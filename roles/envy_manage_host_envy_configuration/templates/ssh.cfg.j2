# This file is created and deleted by Ansible collection tonykay.envy
# It is referenced by ~/.ssh/config
# Edit at your own risk
# It can be regenerated by running: nv deploy {{ envy_name }}


{% for host in groups['all'] %}
Host {{ hostvars[host]['inventory_hostname'] }}.{{ networks.default.name }}
{%      if ansible_system == "Darwin" %}
  Hostname {{ hostvars[host].mac_ansible_ssh_host }}
  Port {{ hostvars[host]['ansible_ssh_port'] }}
{%      elif ansible_system == "Linux" %}
  Hostname {{ hostvars[host].linux_ansible_ssh_host }}
{%      endif %}
  User {{ envy_ssh_user }}
  IdentityFile  ~/.ssh/{{ envy_ssh_private_key_file }}
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  LogLevel QUIET
  ControlMaster auto
  ControlPath /tmp/%h-%p-%r
  ControlPersist 5m

{% endfor %}


